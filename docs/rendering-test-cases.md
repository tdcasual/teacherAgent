# 公式渲染测试用例

目标：验证学生端与老师端 Markdown + KaTeX 渲染是否正确，避免出现“重复字符/公式原样显示/下标错位”等问题。

执行方式：
1. 在学生端或老师端输入「Input」内容。
2. 检查「Expected」是否满足。
3. 若不满足，记录截图与具体输入。

| # | Input | Expected |
| --- | --- | --- |
| 1 | 电动势为 $E$，内阻为 $r$。 | $E$ 与 $r$ 为数学字体；不出现 “EEE/rrr” 或 \frac 原样文本。 |
| 2 | 满偏电流 $I_g$，调零电阻 $R_0$。 | $I_g$ 下标正确显示；$R_0$ 下标正确显示。 |
| 3 | $$I = \frac{E}{R_{\text{内}} + R_x}$$ | 分式渲染为 KaTeX，分子/分母布局正确。 |
| 4 | 当 $R_x=0$ 时，电流最大。 | $R_x=0$ 作为行内数学正常显示。 |
| 5 | $$R_{\text{内}}=r+R_0+R_g$$ | \text{内} 显示为正文体，整体无乱码。 |
| 6 | $$R=15\,\text{k}\Omega$$ | kΩ 显示正常，单位与数值间距合理。 |
| 7 | 公式为 $I=\frac{E}{R}$。 | 行内分式渲染正常。 |
| 8 | $$U=U_0 e^{-t/RC}$$ | 指数部分上标位置正确。 |
| 9 | $$I=\sqrt{\frac{E}{R}}$$ | 根号覆盖分式，布局正确。 |
| 10 | $$P=I^2 R$$ | 上标 2 正确显示。 |
| 11 | $$F=qE\sin\theta$$ | \sin 与 \theta 渲染正常。 |
| 12 | $$\Delta U = IR$$ | \Delta 符号显示正常。 |
| 13 | $$R_1 \parallel R_2$$ | 并联符号显示正常。 |
| 14 | $$I=\frac{E}{R_1+R_2}$$ | 分母括号内公式渲染正常。 |
| 15 | 1. 已知 $E=1.5\ \text{V}$，求电流 $I$。 | 列表中数学渲染正常。 |
| 16 | \[ I = \frac{E}{R} \] | 自动转换为块级公式，正常显示（不应显示反斜杠与方括号）。 |
| 17 | \( R_x = 0 \) 时指针满偏。 | 自动转换为行内公式，正常显示。 |
| 18 | $$\frac{1}{3}$$ | 显示为 1/3 的标准分式，而不是纯文本。 |
| 19 | $$\times, \cdot$$ | 乘号与点乘符号显示正常。 |
| 20 | $$R_{x}, R_{g}, I_{g}$$ | 多个下标同时渲染正常。 |

备注：
- 如果出现“EEE/rrr/重复字符”，通常是 KaTeX 样式被剥离（className 被 sanitize 清除）。
- 如果出现“\frac 原样显示”，通常是分隔符未被识别（\[ \] 被 Markdown 吞掉）。
